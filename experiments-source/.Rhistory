import itertools
from joblib import Parallel, delayed
import networkx as nx
import plotly.graph_objects as go
import numpy as np
from typing import List, Tuple
import plotly.subplots as sp
from plotly.subplots import make_subplots
from concurrent.futures import ThreadPoolExecutor
import time
from functions import create_random_schedules, calculate_objective, compute_convolutions, local_search, get_v_star, powerset, get_neighborhood, build_welch_bailey_schedule, service_time_with_no_shows, create_schedule_network, create_schedule_network_var_edges, create_schedule_network_from_lists, local_search_w_intermediates
# Example Usage
# Define parameters
N = 4  # Number of patients
T = 3  # Number of time intervals
s = [0.3, 0.2, 0.1, 0.05, 0.15, 0.2]  # Example service time probability distribution
d = 2  # Duration threshold
q = 0.1  # No-show probability
w = 0.5  # Weight for waiting time in the objective
# Create and visualize the network
fig = create_schedule_network(N=N, T=T, s=s, d=d, q=q, w=w, echo=True)
fig.show()
# Define parameters
N = 7  # Number of patients
T = 4  # Number of time intervals
s = [0.3, 0.2, 0.1, 0.05, 0.15, 0.2]  # Example service time probability distribution
d = 2  # Duration threshold
q = 0.1  # No-show probability
w = 0.6  # Weight for waiting time in the objective
# Create and visualize the network
fig = create_schedule_network(N=N, T=T, s=s, d=d, q=q, w=w)
fig.show()
# Example Usage
# Define parameters
N = 4  # Number of patients
T = 3  # Number of time intervals
s = [0.3, 0.2, 0.1, 0.05, 0.15, 0.2]  # Example service time probability distribution
d = 2  # Duration threshold
q = 0.1  # No-show probability
w = 0.5  # Weight for waiting time in the objective
echo=True
# Create and visualize the network
fig = create_schedule_network_var_edges(N=N, T=T, s=s, d=d, q=q, w=w, echo=echo)
fig.show()
# Define parameters
N = 7  # Number of patients
T = 4  # Number of time intervals
s = [0.3, 0.2, 0.1, 0.05, 0.15, 0.2]  # Example service time probability distribution
d = 2  # Duration threshold
q = 0.1  # No-show probability
w = 0.6  # Weight for waiting time in the objective
echo = False
# Create and visualize the network
fig = create_schedule_network_var_edges(N=N, T=T, s=s, d=d, q=q, w=w, echo=echo)
fig.show()
